<<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Time Travelers' Phishing Detection Game</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #121212;
            color: #f0f0f0;
            margin: 0;
            padding: 0;
            transition: all 0.5s;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1, h2, h3 {
            color: #4fc3f7;
            text-align: center;
        }
        
        .game-intro {
            text-align: center;
            margin-bottom: 30px;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(79, 195, 247, 0.3);
        }
        
        .game-section {
            display: none;
            margin-bottom: 30px;
            animation: fadeIn 0.5s;
        }
        
        .game-section.active {
            display: block;
        }
        
        .level-intro {
            text-align: center;
            margin-bottom: 20px;
            background-color: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
        }
        
        .question-container {
            background-color: rgba(30, 30, 30, 0.8);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(79, 195, 247, 0.2);
        }
        
        .question-image {
            width: 100%;
            max-width: 700px;
            margin: 0 auto;
            display: block;
            border: 1px solid #555;
            border-radius: 5px;
            margin-bottom: 15px;
        }
        
        .phish-container {
            display: flex;
            justify-content: space-around;
            margin-top: 20px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            margin: 5px;
        }
        
        .btn-phish {
            background-color: #f44336;
            color: white;
        }
        
        .btn-legit {
            background-color: #4caf50;
            color: white;
        }
        
        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }
        
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            text-align: center;
            display: none;
        }
        
        .correct {
            background-color: rgba(76, 175, 80, 0.3);
            border: 1px solid #4caf50;
        }
        
        .incorrect {
            background-color: rgba(244, 67, 54, 0.3);
            border: 1px solid #f44336;
        }
        
        .collected-letters {
            text-align: center;
            margin-top: 20px;
            font-size: 24px;
            letter-spacing: 5px;
        }
        
        .password-section {
            text-align: center;
            margin-top: 30px;
            display: none;
        }
        
        .password-input {
            padding: 10px;
            font-size: 18px;
            text-align: center;
            letter-spacing: 5px;
            background-color: #333;
            color: #fff;
            border: 1px solid #555;
            border-radius: 5px;
            margin-right: 10px;
        }
        
        .level-complete {
            text-align: center;
            margin: 30px 0;
            display: none;
            animation: pulse 2s infinite;
        }
        
        .fake-site {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: white;
            z-index: 100;
            overflow: auto;
            padding: 20px;
        }
        
        /* IMPORTANT: Updated close button styling for better desktop compatibility */
        .close-fake-site {
            position: fixed; /* Changed from absolute to fixed */
            top: 20px; /* Increased from 10px */
            right: 20px; /* Increased from 10px */
            padding: 10px 15px; /* Increased padding for better visibility */
            background-color: #f44336;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px; /* Added font size */
            font-weight: bold; /* Made text bold */
            z-index: 101; /* Ensure it's above other elements */
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5); /* Added shadow for visibility */
        }
        
        /* Added hover effect for X button */
        .close-fake-site:hover {
            background-color: #d32f2f;
            transform: scale(1.05);
        }
        
        .hidden-clue {
            color: transparent;
            user-select: none;
        }
        
        .brightness-sensitive {
            position: relative;
        }
        
        .hidden-bright-text {
            position: absolute;
            bottom: 10px;
            right: 10px;
            color: rgba(255, 255, 255, 0.05);
            font-weight: bold;
            font-size: 20px;
        }
        
        .hover-reveal-area {
            position: relative;
            width: 50px;
            height: 50px;
            background-color: #333;
            margin: 0 auto;
        }
        
        .hover-text {
            display: none;
            position: absolute;
            top: 0;
            left: 60px;
            background-color: #444;
            padding: 10px;
            border-radius: 5px;
        }
        
        .hover-reveal-area:hover .hover-text {
            display: block;
        }
        
        /* Time period styling */
        .past {
            background-color: #3e2723;
            background-image: url('/api/placeholder/800/200');
            background-blend-mode: overlay;
            background-size: cover;
        }
        
        .present {
            background-color: #263238;
            background-image: url('/api/placeholder/800/200');
            background-blend-mode: overlay;
            background-size: cover;
        }
        
        .future {
            background-color: #1a237e;
            background-image: url('/api/placeholder/800/200');
            background-blend-mode: overlay;
            background-size: cover;
        }
        
        .game-complete {
            display: none;
            text-align: center;
            margin-top: 50px;
            animation: confetti 1s infinite;
        }
        
        .score-display {
            font-size: 28px;
            margin: 20px 0;
        }
        
        .play-again {
            padding: 15px 30px;
            background-color: #4fc3f7;
            color: #121212;
            border: none;
            border-radius: 5px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .play-again:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(79, 195, 247, 0.5);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        @keyframes confetti {
            0% { text-shadow: 0 0 5px rgba(255, 255, 255, 0.8); }
            50% { text-shadow: 0 0 20px rgba(79, 195, 247, 0.8); }
            100% { text-shadow: 0 0 5px rgba(255, 255, 255, 0.8); }
        }
        
        .time-portal {
            text-align: center;
            margin: 20px 0;
            font-size: 24px;
            animation: glow 2s infinite;
        }
        
        @keyframes glow {
            0% { text-shadow: 0 0 5px #4fc3f7; }
            50% { text-shadow: 0 0 20px #4fc3f7, 0 0 30px #4fc3f7; }
            100% { text-shadow: 0 0 5px #4fc3f7; }
        }
        
        .brightness-control {
            text-align: center;
            margin: 20px 0;
        }
        
        .brightness-slider {
            width: 300px;
        }
        
        /* Added media query for 1920x1080 desktop screens */
        @media screen and (min-width: 1600px) {
            .container {
                max-width: 1200px; /* Increased container width for larger screens */
            }
            
            .question-image {
                max-width: 900px; /* Larger images for desktop */
            }
            
            /* Ensure the close button remains visible on larger screens */
            .close-fake-site {
                font-size: 18px;
                padding: 12px 18px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-intro active" id="game-intro">
            <h1>⏳ Past, Phish & Future ⏳</h1>
            <p>You're a specialized agent for the Temporal Security Agency. Your mission is to identify digital threats across different time periods to prevent timeline corruption.</p>
            <p>In each era, you'll assess communications to determine if they're legitimate or dangerous phishing attempts.</p>
            <p>Analyse every detail on screen with utmost focus to uncover the password and continue your journey.</p>
            <p><strong>Good luck, Agent. The timeline depends on your vigilance!</strong></p>
            <button class="btn" id="start-game">BEGIN MISSION</button>
        </div>
        
        <!-- Adding JavaScript to ensure the close button works properly -->
        <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Find all close buttons and ensure they're properly visible and functional
                const closeButtons = document.querySelectorAll('.close-fake-site');
                
                closeButtons.forEach(button => {
                    // Make sure the button is visible
                    button.style.display = 'block';
                    
                    // Add click event listener
                    button.addEventListener('click', function(e) {
                        // Find the parent fake-site element
                        const fakeSite = this.closest('.fake-site');
                        if (fakeSite) {
                            fakeSite.style.display = 'none';
                            console.log('Fake site closed!');
                            
                            // This is where the secret key functionality would be triggered
                            // Secret key found!
                        }
                        e.stopPropagation();
                    });
                });
                
                // Add resize event listener to ensure compatibility on window resize
                window.addEventListener('resize', function() {
                    const screenWidth = window.innerWidth;
                    const screenHeight = window.innerHeight;
                    
                    // Adjust elements if needed based on screen size
                    if (screenWidth >= 1920 && screenHeight >= 1080) {
                        // Desktop-specific adjustments
                        console.log('Desktop resolution detected: 1920x1080');
                        
                        // Ensure close buttons are still properly positioned
                        closeButtons.forEach(button => {
                            button.style.top = '20px';
                            button.style.right = '20px';
                        });
                    }
                });
            });
        </script>
    </div>
</body>
</html>
        
        <!-- LEVEL 1: THE PAST (1990s-2000s) -->
        <div class="game-section past" id="level1">
            <div class="level-intro">
                <h2>LEVEL 1: DIGITAL DAWN (1990s-2000s)</h2>
                <p>You've arrived at the birth of the digital age. Early internet users were less aware of security threats.</p>
                <p>Analyze these early communications and identify the threats.</p>
                <div class="time-portal">⧗ Mission Active ⧗</div>
            </div>
            
            <!-- Question 1.1 -->
            <div class="question-container active" id="q1-1">
                <h3>Assessment 1.1</h3>
                <img src="./paypal phish 1.3.jpg" alt="Early PayPal phishing email" class="question-image">
                <p>Paypal Email</p>
                <div class="phish-container">
                    <button class="btn btn-phish" onclick="checkAnswer('q1-1', 'phish')">PHISHING</button>
                    <button class="btn btn-legit" onclick="checkAnswer('q1-1', 'legit')">LEGITIMATE</button>
                </div>
                <div class="feedback" id="feedback-q1-1"></div>
            </div>
            
            <!-- Fake Site for Question 1.1 -->
            <div class="fake-site" id="fake-site-q1-1">
                <button class="close-fake-site" onclick="closeFakeSite('q1-1')">X</button>
                <div style="background-color: #f0f0f0; color: #000; padding: 20px; font-family: Arial;">
                    <div style="text-align: center; padding: 10px;">
                        <h2 style="color: #1546a0;">PayPal Security Center</h2>
                    </div>
                    <div style="background-color: white; padding: 20px; border: 1px solid #ddd;">
                        <h3>Confirm Your Account Information</h3>
                        <p>Dear valued customer,</p>
                        <p>We have detected unusual activities on your PayPal acount. To secure your account, please verify your infomation immediately.</p>
                        <form style="margin-top: 20px;">
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px;">Email Address:</label>
                                <input type="email" style="width: 100%; padding: 8px; border: 1px solid #ccc;">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px;">Password:</label>
                                <input type="password" style="width: 100%; padding: 8px; border: 1px solid #ccc;">
                            </div>
                            <button type="button" style="background-color: #1546a0; color: white; padding: 10px 15px; border: none; cursor: pointer;">Verify Now</button>
                        </form>
                        <div class="brightness-sensitive">
                            <p style="margin-top: 50px; font-size: 12px; color: #999;">© 2003 PayPal Inc. All rights reserved.</p>
                            <span class="hidden-bright-text">Secret letter: O</span>
                        </div>
                    </div>
                </div>
                <div class="brightness-control">
                    <p>SUBMIT</p>
                    <input type="range" min="0" max="100" value="10" class="brightness-slider" id="brightness-slider-q1-1" oninput="adjustBrightness(this.value, 'q1-1')">
                </div>
            </div>
            
            <!-- Question 1.2 -->
            <div class="question-container" id="q1-2">
                <h3>Assessment 1.2</h3>
                <img src="./amazon legit 2.2.jpg" alt="Early Amazon email" class="question-image">
                <p>Amazon Email</p>
                <div class="phish-container">
                    <button class="btn btn-phish" onclick="checkAnswer('q1-2', 'phish')">PHISHING</button>
                    <button class="btn btn-legit" onclick="checkAnswer('q1-2', 'legit')">LEGITIMATE</button>
                </div>
                <div class="feedback" id="feedback-q1-2"></div>
            </div>
            
           <!-- Question 1.3 -->
<div class="question-container" id="q1-3">
    <h3>Assessment 1.3</h3>
    <img src="./MySpace phish 4.1.jpg" alt="MySpace friend request phishing" class="question-image">
    <p>MySpace Email</p>
    <div class="phish-container">
        <button class="btn btn-phish" onclick="checkAnswer('q1-3', 'phish')">PHISHING</button>
        <button class="btn btn-legit" onclick="checkAnswer('q1-3', 'legit')">LEGITIMATE</button>
    </div>
    <div class="feedback" id="feedback-q1-3"></div>
</div>

<!-- Fake Site for Question 1.3 -->
<div class="fake-site" id="fake-site-q1-3">
    <button class="close-fake-site" onclick="closeFakeSite('q1-3')">X</button>
    <div style="background-color: #e8eaf6; color: #000; padding: 20px; font-family: 'Arial';">
        <div style="text-align: center; padding: 10px; background-color: #3f51b5; color: white;">
            <h2>MySpace</h2>
        </div>
        <div style="background-color: white; padding: 20px; border: 1px solid #ddd;">
            <h3>New Friend Request</h3>
            <div style="display: flex; align-items: center; margin: 20px 0;">
                <div style="width: 100px; height: 100px; background-color: #ddd; margin-right: 20px;">
                    <img src="/api/placeholder/100/100" alt="Profile picture" style="width: 100%;">
                </div>
                <div>
                    <h4>Jessica Thompson wants to be your friend</h4>
                    <p>Jessica has 342 friends in common with you</p>
                    <div style="margin-top: 15px;">
                        <button style="background-color: #3f51b5; color: white; border: none; padding: 8px 15px; margin-right: 10px; cursor: pointer;">Accept</button>
                        <button style="background-color: #f5f5f5; border: 1px solid #ddd; padding: 8px 15px; cursor: pointer;">Decline</button>
                    </div>
                </div>
            </div>
            <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px;">
                <h4>Discover more friends</h4>
                <div style="display: flex; flex-wrap: wrap;">
                    <div style="width: 80px; margin: 10px; text-align: center;">
                        <div style="width: 60px; height: 60px; background-color: #ddd; margin: 0 auto;">
                            <img src="/api/placeholder/60/60" alt="Friend suggestion">
                        </div>
                        <p style="font-size: 12px; margin-top: 5px;">Chris M.</p>
                    </div>
                    <div style="width: 80px; margin: 10px; text-align: center;">
                        <div style="width: 60px; height: 60px; background-color: #ddd; margin: 0 auto;">
                            <img src="/api/placeholder/60/60" alt="Friend suggestion">
                        </div>
                        <p style="font-size: 12px; margin-top: 5px;">Sarah L.</p>
                    </div>
                    <div style="width: 80px; margin: 10px; text-align: center;">
                        <div style="width: 60px; height: 60px; background-color: #ddd; margin: 0 auto;">
                            <img src="/api/placeholder/60/60" alt="Friend suggestion">
                        </div>
                        <p style="font-size: 12px; margin-top: 5px;">Mike T.</p>
                    </div>
                </div>
            </div>
        </div>
        <div style="margin-top: 20px; font-size: 12px; color: #706f6f; text-align: center;">
            <p>© 2005 MySpace.com All rights reserved</p>
            <div class="hover-reveal-area" style="background-color: white;">
                <div class="hover-text" style="color: black;">Secret letter: G,A</div>
            </div>
        </div>
    </div>
</div>

<style>
.hover-reveal-area:hover .hover-text {
    color: white;
}
</style>
            
            <!-- Password Section Level 1 -->
            <div class="password-section" id="password-section-level1">
                <h3>Time Portal Password</h3>
                <p>Enter the password to proceed to the next time period:</p>
                <p>You can remember me, but I cant return</p>
                <div class="collected-letters" id="collected-letters-level1">_ _</div>
                <div style="margin-top: 15px;">
                    <input type="text" class="password-input" id="password-input-level1" maxlength="4">
                    <button class="btn" onclick="checkPassword(1)">CONFIRM</button>
                </div>
                <div class="feedback" id="password-feedback-level1"></div>
            </div>
            
            <div class="level-complete" id="level1-complete">
                <h2>Time Portal Opening!</h2>
                <p>You've successfully secured the Digital Dawn era.</p>
                <button class="btn" onclick="startLevel(2)">ENTER NEXT TIME PERIOD</button>
            </div>
        </div>
        
        <!-- LEVEL 2: THE PRESENT (2010s-2020s) -->
        <div class="game-section present" id="level2">
            <div class="level-intro">
                <h2>LEVEL 2: MODERN DECEPTION (2010s-2020s)</h2>
                <p>Welcome to our current era. Phishing techniques have become more sophisticated, but so have security measures.</p>
                <p>Analyze these contemporary communications for threats.</p>
                <div class="time-portal">⧗ Mission Active ⧗</div>
            </div>
            
            <!-- Question 2.1 -->
            <div class="question-container active" id="q2-1">
                <h3>Assessment 2.1</h3>
                <img src="./netflix phish 2.1.jpg" alt="Netflix account verification" class="question-image">
                <p>Netflix Email</p>
                <div class="phish-container">
                    <button class="btn btn-phish" onclick="checkAnswer('q2-1', 'phish')">PHISHING</button>
                    <button class="btn btn-legit" onclick="checkAnswer('q2-1', 'legit')">LEGITIMATE</button>
                </div>
                <div class="feedback" id="feedback-q2-1"></div>
            </div>
            
            <!-- Fake Site for Question 2.1 -->
            <div class="fake-site" id="fake-site-q2-1">
                <button class="close-fake-site" onclick="closeFakeSite('q2-1')">X</button>
                <div style="background-color: #000; color: #fff; padding: 20px; font-family: 'Arial';">
                    <div style="text-align: center; padding: 10px;">
                        <h2 style="color: #e50914; font-size: 36px;">NETFLIX</h2>
                    </div>
                    <div style="background-color: #141414; padding: 20px; border-radius: 5px;">
                        <h3 style="color: #fff;">Account Verification Required</h3>
                        <p>Your Netflix membership has been temporarily suspended due to a billing issue.</p>
                        <p>Please update your payment information to continue enjoying uninterrupted streaming.</p>
                        <form style="margin-top: 20px;">
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: #999;">Email Address:</label>
                                <input type="email" style="width: 100%; padding: 12px; background-color: #333; border: none; color: #fff; border-radius: 4px;">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: #999;">Password:</label>
                                <input type="password" style="width: 100%; padding: 12px; background-color: #333; border: none; color: #fff; border-radius: 4px;">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: #999;">Credit Card Number:</label>
                                <input type="text" style="width: 100%; padding: 12px; background-color: #333; border: none; color: #fff; border-radius: 4px;">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: #999;">Expiration Date:</label>
                                <input type="text" style="width: 100%; padding: 12px; background-color: #333; border: none; color: #fff; border-radius: 4px;" placeholder="MM/YY">
                            </div>
                            <div style="margin-bottom: 15px;">
                                <label style="display: block; margin-bottom: 5px; color: #999;">CVV:</label>
                                <input type="text" style="width: 100%; padding: 12px; background-color: #333; border: none; color: #fff; border-radius: 4px;">
                            </div>
                            <button type="button" style="background-color: #e50914; color: white; padding: 14px; border: none; width: 100%; border-radius: 4px; font-size: 16px; cursor: pointer;">VERIFY & CONTINUE</button>
                        </form>
                        <p style="margin-top: 20px; font-size: 12px; color: #999; text-align: center;">© 2023 Netflix Inc.</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px; font-size: 12px; color: #999;">
                    <p>View page source to find the hidden clue</p>
                    <button class="btn" onclick="document.getElementById('source-code-q2-1').style.display = 'block'">View Source</button>
                    <div id="source-code-q2-1" style="display: none; text-align: left; background-color: #f5f5f5; padding: 20px; margin-top: 20px; color: #333; overflow: auto; max-height: 300px;">
                        <pre>
&lt;!DOCTYPE html&gt;
&lt;html lang="en"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Netflix Account Verification&lt;/title&gt;
    &lt;!-- Secret letter: R,P --&gt;
    &lt;style&gt;
        body { background-color: #000; color: #fff; font-family: Arial; }
        .logo { color: #e50914; font-size: 36px; }
        /* More styles... */
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;!-- Main content here --&gt;
&lt;/body&gt;
&lt;/html&gt;
                        </pre>
                    </div>
                </div>
            </div>
            
            <!-- Question 2.2 -->
            <div class="question-container" id="q2-2">
                <h3>Assessment 2.2</h3>
                <img src="./Google Legit 4.2.jpg" alt="Google login page" class="question-image">
                <p>Google Email</p>
                <div class="phish-container">
                    <button class="btn btn-phish" onclick="checkAnswer('q2-2', 'phish')">PHISHING</button>
                    <button class="btn btn-legit" onclick="checkAnswer('q2-2', 'legit')">LEGITIMATE</button>
                </div>
                <div class="feedback" id="feedback-q2-2"></div>
            </div>
            
           <!-- Question 2.3 -->
<div class="question-container" id="q2-3">
    <h3>Assessment 2.3</h3>
    <img src="./Government Phish 4.3.jpg" alt="COVID-19 relief payment" class="question-image">
    <p>Government Relief Email</p>
    <div class="phish-container">
        <button class="btn btn-phish" onclick="checkAnswer('q2-3', 'phish')">PHISHING</button>
        <button class="btn btn-legit" onclick="checkAnswer('q2-3', 'legit')">LEGITIMATE</button>
    </div>
    <div class="feedback" id="feedback-q2-3"></div>
</div>

<!-- Fake Site for Question 2.3 -->
<div class="fake-site" id="fake-site-q2-3">
    <button class="close-fake-site" onclick="closeFakeSite('q2-3')">X</button>
    <div style="background-color: #f9f9f9; color: #333; padding: 20px; font-family: 'Arial';">
        <div style="text-align: center; padding: 10px; background-color: #1a478a; color: white;">
            <h2>Government Relief Fund</h2>
            <p>COVID-19 Financial Assistance Program</p>
        </div>
        <div style="background-color: white; padding: 20px; border: 1px solid #ddd; margin-top: 20px;">
            <h3>Claim Your Relief Payment</h3>
            <p>Due to the ongoing pandemic, eligible citizens can receive a one-time payment of $1,450.</p>
            <p>Please complete the form below to receive your payment within 5-7 business days.</p>
            
            <form style="margin-top: 20px;">
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px;">Full Name:</label>
                    <input type="text" style="width: 100%; padding: 10px; border: 1px solid #ddd;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px;">Social Security Number:</label>
                    <input type="text" style="width: 100%; padding: 10px; border: 1px solid #ddd;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px;">Date of Birth:</label>
                    <input type="text" style="width: 100%; padding: 10px; border: 1px solid #ddd;" placeholder="MM/DD/YYYY">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px;">Bank Account Number:</label>
                    <input type="text" style="width: 100%; padding: 10px; border: 1px solid #ddd;">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="display: block; margin-bottom: 5px;">Routing Number:</label>
                    <input type="text" style="width: 100%; padding: 10px; border: 1px solid #ddd;">
                </div>
                <button type="button" style="background-color: #1a478a; color: white; padding: 12px 20px; border: none; cursor: pointer; width: 100%;">Submit Claim</button>
            </form>
            
            <div style="margin-top: 30px; border-top: 1px solid #eee; padding-top: 20px; font-size: 12px;">
                <p>For questions about your eligibility, please call our hotline at 1-888-555-0123.</p>
                <p>This program expires in 24 hours. Act now to claim your payment.</p>
            </div>
        </div>
    </div>
    <div style="position: relative; text-align: center; margin-top: 20px;">
        <p>Find the exact brightness level that reveals the hidden message</p>
        <input type="range" min="0" max="100" value="50" id="brightness-slider" style="width: 80%; margin: 20px auto; display: block;">
        <div id="brightness-value" style="text-align: center; font-size: 14px; color: #666;">Brightness: 50</div>
        <div id="hidden-message-container" style="position: relative; width: 80%; height: 100px; margin: 0 auto; background-color: #f0f0f0; border-radius: 5px; overflow: hidden;">
            <!-- The hidden message with very low contrast -->
            <div id="hidden-message" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center; font-size: 24px; color: #f0f0f0; text-shadow: 1px 1px 1px rgba(0,0,0,0.1); user-select: none; font-weight: bold;">
                
            </div>
        </div>
        
        <!-- Replace the invisible clickable area with a brightness-dependent message -->
        <div id="hidden-clue-q2-3" style="background-color: #fff; padding: 15px; border: 1px solid #ddd; margin-top: 20px;">
            <p>Secret letter: <span id="secret-letter" style="color: #fefefe;">S</span></p>
        </div>
    </div>
</div>

<style>
    /* Add styling for the brightness effect */
    #brightness-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #1a478a;
        cursor: pointer;
    }
    
    #brightness-slider::-moz-range-thumb {
        width: 25px;
        height: 25px;
        border-radius: 50%;
        background: #1a478a;
        cursor: pointer;
    }
    
    /* Style for the hidden message container */
    #hidden-message-container {
        transition: background-color 0.3s ease;
    }
</style>

<script>
    // Add functionality for the brightness slider
    document.getElementById('brightness-slider').addEventListener('input', function() {
        // Update the displayed brightness value
        document.getElementById('brightness-value').textContent = `Brightness: ${this.value}`;
        const value = parseInt(this.value);
        
        // Calculate visibility based on proximity to the "sweet spot"
        const sweetSpot = 42; // The specific brightness level where text is visible
        const visibilityRange = 5; // How close to the sweet spot you need to be
        
        // Calculate distance from sweet spot (0 = perfect match, higher = further away)
        const distance = Math.abs(value - sweetSpot);
        
        // Calculate visibility factor (1 = fully visible, 0 = invisible)
        const visibilityFactor = distance <= visibilityRange ? 
            1 - (distance / visibilityRange) : 0;
        
        // Apply visibility to text elements
        applyVisibility(visibilityFactor);
    });
    
    // Function to apply visibility to hidden elements
    function applyVisibility(factor) {
        // Set text colors based on visibility factor
        // Background is always light gray
        const bgColor = "#f0f0f0";
        
        // Text color approaches background color as factor decreases
        // When factor = 1, text is black (#000000)
        // When factor = 0, text matches background (#f0f0f0)
        const textColor = calculateBlendedColor("#000000", bgColor, factor);
        const letterColor = calculateBlendedColor("#ff0000", "#fefefe", factor);
        
        // Update the elements
        document.getElementById('hidden-message').style.color = textColor;
        document.getElementById('hidden-message-container').style.backgroundColor = bgColor;
        document.getElementById('secret-letter').style.color = letterColor;
    }
    
    // Helper function to blend between two colors
    function calculateBlendedColor(visibleColor, invisibleColor, factor) {
        // Parse the hex colors
        const r1 = parseInt(visibleColor.substring(1, 3), 16);
        const g1 = parseInt(visibleColor.substring(3, 5), 16);
        const b1 = parseInt(visibleColor.substring(5, 7), 16);
        
        const r2 = parseInt(invisibleColor.substring(1, 3), 16);
        const g2 = parseInt(invisibleColor.substring(3, 5), 16);
        const b2 = parseInt(invisibleColor.substring(5, 7), 16);
        
        // Blend the colors based on factor
        const r = Math.round(r2 + (r1 - r2) * factor);
        const g = Math.round(g2 + (g1 - g2) * factor);
        const b = Math.round(b2 + (b1 - b2) * factor);
        
        // Convert back to hex
        return `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;
    }
    
    // Original functions
    function checkAnswer(questionId, answer) {
        // Your existing code here
    }
    
    function closeFakeSite(questionId) {
        // Your existing code here
    }
</script>
            
            <!-- Password Section Level 2 -->
            <div class="password-section" id="password-section-level2">
                <h3>Time Portal Password</h3>
                <p>Enter the password to proceed to the next time period:</p>
                <p>A gift for now, but soon to pass</p>
                <div class="collected-letters" id="collected-letters-level2">_ _ _</div>
                <div style="margin-top: 15px;">
                    <input type="text" class="password-input" id="password-input-level2" maxlength="4">
                    <button class="btn" onclick="checkPassword(2)">CONFIRM</button>
                </div>
                <div class="feedback" id="password-feedback-level2"></div>
            </div>
            
            <div class="level-complete" id="level2-complete">
                <h2>Time Portal Opening!</h2>
                <p>You've successfully secured the Modern Era.</p>
                <button class="btn" onclick="startLevel(3)">ENTER NEXT TIME PERIOD</button>
            </div>
        </div>
        
        <!-- LEVEL 3: THE FUTURE (2030s and beyond) -->
        <div class="game-section future" id="level3">
            <div class="level-intro">
                <h2>LEVEL 3: FUTURE THREATS (2030s and beyond)</h2>
                <p>You've traveled to the future where AI and quantum computing have revolutionized both security and threats.</p>
                <p>Analyze these futuristic communications to identify advanced phishing attacks.</p>
                <div class="time-portal">⧗ Mission Active ⧗</div>
            </div>
            
            <!-- Question 3.1 -->
            <div class="question-container active" id="q3-1">
                <h3>Assessment 3.1</h3>
                <img src="./BrainSync Phish 5.1.jpg" alt="Neural interface update" class="question-image">
                <p>BrainSync Email</p>
                <div class="phish-container">
                    <button class="btn btn-phish" onclick="checkAnswer('q3-1', 'phish')">PHISHING</button>
                    <button class="btn btn-legit" onclick="checkAnswer('q3-1', 'legit')">LEGITIMATE</button>
                </div>
                <div class="feedback" id="feedback-q3-1"></div>
            </div>
            
            <!-- Fake Site for Question 3.1 -->
            <div class="fake-site" id="fake-site-q3-1">
                <button class="close-fake-site" onclick="closeFakeSite('q3-1')">X</button>
                <div style="background-color: #030014; color: #e0e0ff; padding: 20px; font-family: 'Arial';">
                    <div style="text-align: center; padding: 10px;">
                        <h2 style="color: #7b68ee; font-size: 32px;">BrainSync OS</h2>
                        <p style="color: #a0a0ff;">Neural Interface Security Update</p>
                    </div>
                    <div style="background-color: rgba(20, 20, 50, 0.8); padding: 20px; border-radius: 15px; border: 1px solid #7b68ee; margin-top: 20px;">
                        <h3 style="color: #7b68ee;">Critical Security Update</h3>
                        <p>Your BrainSync OS requires an immediate security update to protect against new quantum-based vulnerabilities.</p>
                        <p>This update includes protection against the following threats:</p>
                        <ul style="color: #a0a0ff;">
                            <li>Neural data interception (Class A)</li>
                            <li>Memory access exploits (Class B)</li>
                            <li>Emotional response manipulation (Class C)</li>
                        </ul>
                        
                        <div style="margin-top: 30px; background-color: rgba(10, 10, 30, 0.8); padding: 15px; border-radius: 10px;">
                            <h4 style="color: #7b68ee;">Required Permissions</h4>
                            <ul style="color: #a0a0ff;">
                                <li>Full memory access</li>
                                <li>Biometric data processing</li>
                                <li>Financial authentication override</li>
                                <li>Personal relationship database access</li>
                            </ul>
                        </div>
                        
                        <div style="margin-top: 30px; text-align: center;">
                            <button style="background-color: #7b68ee; color: white; padding: 15px 30px; border: none; border-radius: 30px; font-size: 18px; cursor: pointer;">AUTHORIZE UPDATE</button>
                        </div>
                        
                        <p style="margin-top: 40px; font-size: 12px; color: #a0a0ff; text-align: center;">BrainSync OS v12.3.1 • Quantum Enhanced</p>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <p>Try different keyboard combinations to find the hidden clue</p>
                    <button class="btn" onclick="document.getElementById('keyboard-hint-q3-1').style.display = 'block'">Show Hint</button>
                    <div id="keyboard-hint-q3-1" style="display: none; margin-top: 15px;">
                        <p>Try pressing Ctrl+Alt+D</p>
                        <button class="btn" onclick="document.getElementById('hidden-clue-q3-1').style.display = 'block'">Simulate Ctrl+Alt+D</button>
                        <div id="hidden-clue-q3-1" style="display: none; background-color: #030014; color: #7b68ee; padding: 15px; margin-top: 15px; border: 1px solid #7b68ee;">
                            <p>Secret letter: X</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Question 3.2 -->
            <div class="question-container" id="q3-2">
                <h3>Assessment 3.2</h3>
                <img src="./Quantum Bank Legit 6.1.jpg" alt="Quantum Bank authentication" class="question-image">
                <p>Quantum Bank Email</p>
                <div class="phish-container">
                    <button class="btn btn-phish" onclick="checkAnswer('q3-2', 'phish')">PHISHING</button>
                    <button class="btn btn-legit" onclick="checkAnswer('q3-2', 'legit')">LEGITIMATE</button>
                </div>
                <div class="feedback" id="feedback-q3-2"></div>
            </div>
            
           <!-- Question 3.3 -->
<div class="question-container" id="q3-3">
    <h3>Assessment 3.3</h3>
    <img src="./UID Phish 6.2.jpg" alt="Neuralink message" class="question-image">
    <p>UDI Email</p>
    <div class="phish-container">
        <button class="btn btn-phish" onclick="checkAnswer('q3-3', 'phish')">PHISHING</button>
        <button class="btn btn-legit" onclick="checkAnswer('q3-3', 'legit')">LEGITIMATE</button>
    </div>
    <div class="feedback" id="feedback-q3-3"></div>
</div>

<!-- Fake Site for Question 3.3 -->
<div class="fake-site" id="fake-site-q3-3">
    <button class="close-fake-site" onclick="closeFakeSite('q3-3')">X</button>
    <div style="background-color: #000; color: #0ff; padding: 20px; font-family: 'Arial'; background-image: linear-gradient(45deg, #000 25%, #001a1a 25%, #001a1a 50%, #000 50%, #000 75%, #001a1a 75%, #001a1a 100%); background-size: 10px 10px;">
        <div style="text-align: center; padding: 10px;">
            <h2 style="color: #0ff; font-size: 32px; text-shadow: 0 0 10px #0ff;">Universal Digital Identity</h2>
            <p style="color: #0aa; text-transform: uppercase;">Global Verification Protocol</p>
        </div>
        <div style="background-color: rgba(0, 20, 20, 0.8); padding: 20px; border-radius: 5px; border: 1px solid #0ff; margin-top: 20px;">
            <h3 style="color: #0ff;">Identity Verification Required</h3>
            <p>Your global identity token has been flagged for reverification.</p>
            <p>Failure to complete this process within 12 hours will result in restricted access to:</p>
            <ul style="color: #0aa;">
                <li>Global transportation systems</li>
                <li>Financial networks</li>
                <li>Medical service authorization</li>
                <li>Neural interface connectivity</li>
            </ul>
            
            <div style="margin-top: 30px; background-color: rgba(0, 10, 10, 0.8); padding: 15px; border-radius: 5px;">
                <h4 style="color: #0ff;">Verification Steps</h4>
                <ol style="color: #0aa;">
                    <li>Retinal scan authentication</li>
                    <li>Thought-password sequence</li>
                    <li>Neural signature verification</li>
                    <li>Global identity token refresh</li>
                </ol>
            </div>
            
            <div style="margin-top: 30px; text-align: center;">
                <button style="background-color: #0ff; color: black; padding: 15px 30px; border: none; border-radius: 5px; font-size: 18px; cursor: pointer; text-transform: uppercase; font-weight: bold;">BEGIN VERIFICATION</button>
            </div>
        </div>
        <div style="margin-top: 30px; text-align: center; font-size: 12px; color: #0aa;">
            <p>Universal Digital Identity Authority • Quantum Secured • Est. 2031</p>
            <p class="hidden-clue" id="hidden-clue-q3-3" style="color: transparent;">Secret letter: A</p>
        </div>
    </div>
    <div style="text-align: center; margin-top: 20px;">
        <p>The clue is hidden beneath. Try moving the box to reveal it.</p>
        <div style="position: relative; width: 200px; height: 80px; margin: 0 auto;">
            <!-- The hidden content is positioned absolutely UNDER the box -->
            <div class="hidden-content" id="hidden-content-q3-3" style="position: absolute; top: 0; left: 0; width: 100%; padding: 15px 0; color: #0ff; font-weight: bold; z-index: 1;">
                Secret letter: N,T
            </div>
            <!-- The movable box is positioned above the content with higher z-index -->
            <div class="movable-box" id="movable-box-q3-3" style="background-color: #0aa; width: 100%; height: 50px; cursor: move; position: absolute; top: 0; left: 0; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; z-index: 2;">
                SUBMIT
            </div>
        </div>
    </div>
</div>

<style>
    /* Add necessary styles for the movable box */
    .movable-box {
        user-select: none;
        transition: transform 0.1s;
        background-color: #0aa;
    }
    
    /* Remove hover effect - we only want drag to reveal */
    .movable-box:hover {
        /* No hover effect */
    }
    
    /* Alternative draggable implementation using JS */
    .dragging {
        opacity: 0.8;
    }
    
    /* Make sure the hidden content is visible */
    .hidden-content {
        font-size: 16px;
        text-shadow: 0 0 5px #0ff;
    }
</style>

<script>
    // Add draggable functionality (more interactive than just hover)
    document.addEventListener('DOMContentLoaded', function() {
        const box = document.getElementById('movable-box-q3-3');
        const hiddenContent = document.getElementById('hidden-content-q3-3');
        
        // Initially hide the content (make text transparent)
        hiddenContent.style.color = 'transparent';
        
        // Variables for tracking drag
        let isDragging = false;
        let offsetX, offsetY;
        let hasRevealed = false;
        
        // Mouse events for dragging
        box.addEventListener('mousedown', function(e) {
            isDragging = true;
            box.classList.add('dragging');
            
            // Calculate offset from the element's top-left corner
            const rect = box.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            
            e.preventDefault();
        });
        
        document.addEventListener('mousemove', function(e) {
            if (!isDragging) return;
            
            // Move the box
            const x = e.clientX - offsetX;
            const y = e.clientY - offsetY;
            
            box.style.position = 'absolute';
            box.style.left = x + 'px';
            box.style.top = y + 'px';
            
            // Reveal hidden content only when box is moved significantly
            const boxRect = box.getBoundingClientRect();
            const contentRect = hiddenContent.getBoundingClientRect();
            
            // Check if the box has been moved enough to reveal content
            // We'll check if there's a significant movement from the original position
            const originalX = parseFloat(getComputedStyle(box).left) || 0;
            const originalY = parseFloat(getComputedStyle(box).top) || 0;
            
            // If moved more than 50px in any direction, reveal the content
            if (Math.abs(x - originalX) > 30 || Math.abs(y - originalY) > 30) {
                hiddenContent.style.color = '#0ff'; // Make text visible
                hasRevealed = true;
            }
        });
        
        document.addEventListener('mouseup', function() {
            if (isDragging) {
                isDragging = false;
                box.classList.remove('dragging');
            }
        });
        
        // Touch events for mobile devices
        box.addEventListener('touchstart', function(e) {
            isDragging = true;
            box.classList.add('dragging');
            
            const touch = e.touches[0];
            const rect = box.getBoundingClientRect();
            offsetX = touch.clientX - rect.left;
            offsetY = touch.clientY - rect.top;
            
            e.preventDefault();
        });
        
        document.addEventListener('touchmove', function(e) {
            if (!isDragging) return;
            
            const touch = e.touches[0];
            const x = touch.clientX - offsetX;
            const y = touch.clientY - offsetY;
            
            box.style.position = 'absolute';
            box.style.left = x + 'px';
            box.style.top = y + 'px';
            
            // Check if the box has been moved enough to reveal content
            // We'll check if there's a significant movement from the original position
            const originalX = parseFloat(getComputedStyle(box).left) || 0;
            const originalY = parseFloat(getComputedStyle(box).top) || 0;
            
            // If moved more than 30px in any direction, reveal the content
            if (Math.abs(x - originalX) > 30 || Math.abs(y - originalY) > 30) {
                hiddenContent.style.color = '#0ff'; // Make text visible
                hasRevealed = true;
            }
            
            e.preventDefault();
        });
        
        document.addEventListener('touchend', function() {
            if (isDragging) {
                isDragging = false;
                box.classList.remove('dragging');
            }
        });
    });
</script>
            
            <!-- Password Section Level 3 -->
            <div class="password-section" id="password-section-level3">
                <h3>Time Portal Password</h3>
                <p>Enter the password to complete your mission:</p>
                <p>You chase me, though I cant be near, Im always ahead, but never clear</p>
                <div class="collected-letters" id="collected-letters-level3">_ _ _</div>
                <div style="margin-top: 15px;">
                    <input type="text" class="password-input" id="password-input-level3" maxlength="4">
                    <button class="btn" onclick="checkPassword(3)">CONFIRM</button>
                </div>
                <div class="feedback" id="password-feedback-level3"></div>
            </div>
            
            <div class="level-complete" id="level3-complete">
                <h2>Time Portal Opening!</h2>
                <p>You've successfully secured the Future Era.</p>
                <button class="btn" onclick="completeGame()">RETURN TO TEMPORAL HEADQUARTERS</button>
            </div>
        </div>
        
        <!-- GAME COMPLETION -->
        <div class="game-complete" id="game-complete">
            <h1>MISSION ACCOMPLISHED!</h1>
            <p>Congratulations, Time Agent! You've successfully identified and neutralized phishing threats across multiple time periods.</p>
            <div class="score-display" id="final-score">Your final score: 0/9</div>
            <p>Your vigilance has protected the timeline from digital corruption.</p>
            <button class="play-again" onclick="resetGame()">NEW MISSION</button>
        </div>
    </div>
    
    <script>
        // Game state
        const gameState = {
            currentLevel: 0,
            currentQuestion: {},
            score: 0,
            maxScore: 9,
            collectedLetters: {
                level1: {},
                level2: {},
                level3: {}
            },
            passwords: {
                level1: "AGO",
                level2: "PRS",
                level3: "NXT"
            }
        };
        
        // Initialize game
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('start-game').addEventListener('click', function() {
                startLevel(1);
            });
        });
        
        // Start specified level
        function startLevel(level) {
            // Hide all sections
            document.querySelectorAll('.game-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Hide intro
            document.getElementById('game-intro').classList.remove('active');
            
            // Show selected level
            document.getElementById('level' + level).classList.add('active');
            
            // Reset current level questions
            document.querySelectorAll('#level' + level + ' .question-container').forEach((question, index) => {
                if (index === 0) {
                    question.classList.add('active');
                } else {
                    question.classList.remove('active');
                }
            });
            
            // Update game state
            gameState.currentLevel = level;
        }
        
        // Check answer for current question
        function checkAnswer(questionId, answer) {
            const correctAnswers = {
                'q1-1': 'phish',
                'q1-2': 'legit',
                'q1-3': 'phish',
                'q2-1': 'phish',
                'q2-2': 'legit',
                'q2-3': 'phish',
                'q3-1': 'phish',
                'q3-2': 'legit',
                'q3-3': 'phish'
            };
            
            const isCorrect = answer === correctAnswers[questionId];
            const feedbackElement = document.getElementById('feedback-' + questionId);
            
            if (isCorrect) {
                gameState.score++;
                feedbackElement.innerHTML = '<p>Correct! This is ' + (answer === 'phish' ? 'a phishing attempt' : 'legitimate') + '.</p>';
                feedbackElement.className = 'feedback correct';
                
                // If it's a phishing attempt, show the fake site
                if (answer === 'phish') {
                    setTimeout(() => {
                        showFakeSite(questionId);
                    }, 1000);
                } else {
                    // If legitimate, add letter directly
                    addLetterToLevel(questionId);
                    moveToNextQuestion(questionId);
                }
            } else {
                feedbackElement.innerHTML = '<p>Incorrect. This is actually ' + (correctAnswers[questionId] === 'phish' ? 'a phishing attempt' : 'legitimate') + '.</p>';
                feedbackElement.className = 'feedback incorrect';
                
                // If it's a phishing attempt, show the fake site anyway
                if (correctAnswers[questionId] === 'phish') {
                    setTimeout(() => {
                        showFakeSite(questionId);
                    }, 1000);
                } else {
                    // If legitimate, add letter directly
                    addLetterToLevel(questionId);
                    moveToNextQuestion(questionId);
                }
            }
            
            feedbackElement.style.display = 'block';
        }
        
        // Add letter to current level
        function addLetterToLevel(questionId) {
            const letters = {
                'q1-1': 'O',
                'q1-2': 'A',
                'q1-3': 'G',
                'q2-1': 'R',
                'q2-2': 'P',
                'q2-3': 'S',
                'q3-1': 'X',
                'q3-2': 'T',
                'q3-3': 'N'
            };
            
            const level = questionId.split('-')[0].replace('q', '');
            const questionNum = questionId.split('-')[1];
            
            gameState.collectedLetters['level' + level][questionNum] = letters[questionId];
            updateCollectedLetters(level);
        }
        
        // Update collected letters display
        function updateCollectedLetters(level) {
    const letters = gameState.collectedLetters['level' + level];
    let displayText = '';
    
    for (let i = 1; i <= 3; i++) {
        // Always show underscore regardless of whether letter is collected
        displayText += '';
    }
    
    document.getElementById('collected-letters-level' + level).textContent = displayText.trim();
}
        
        // Move to next question
        function moveToNextQuestion(questionId) {
            const level = questionId.split('-')[0].replace('q', '');
            const questionNum = parseInt(questionId.split('-')[1]);
            const nextQuestionNum = questionNum + 1;
            
            const currentQuestion = document.getElementById(questionId);
            const nextQuestion = document.getElementById('q' + level + '-' + nextQuestionNum);
            
            // Hide current question after a delay
            setTimeout(() => {
                currentQuestion.classList.remove('active');
                
                // If there's a next question, show it
                if (nextQuestion) {
                    nextQuestion.classList.add('active');
                } else {
                    // If no more questions, show password section
                    document.getElementById('password-section-level' + level).style.display = 'block';
                }
            }, 1500);
        }
        
        // Show fake phishing site
        function showFakeSite(questionId) {
            document.getElementById('fake-site-' + questionId).style.display = 'block';
        }
        
        // Close fake site
        function closeFakeSite(questionId) {
            document.getElementById('fake-site-' + questionId).style.display = 'none';
            
            // Add letter to collected letters
            addLetterToLevel(questionId);
            
            // Move to next question
            moveToNextQuestion(questionId);
        }
        
        // Check password
        function checkPassword(level) {
            const password = document.getElementById('password-input-level' + level).value.toUpperCase();
            const correctPassword = gameState.passwords['level' + level];
            const feedbackElement = document.getElementById('password-feedback-level' + level);
            
            if (password === correctPassword) {
                feedbackElement.innerHTML = '<p>Correct! Time portal opening...</p>';
                feedbackElement.className = 'feedback correct';
                
                // Show level completion
                setTimeout(() => {
                    document.getElementById('password-section-level' + level).style.display = 'none';
                    document.getElementById('level' + level + '-complete').style.display = 'block';
                }, 1500);
            } else {
                feedbackElement.innerHTML = '<p>Incorrect password. Try again.</p>';
                feedbackElement.className = 'feedback incorrect';
            }
            
            feedbackElement.style.display = 'block';
        }
        
        // Complete game
        function completeGame() {
            document.querySelectorAll('.game-section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.getElementById('final-score').textContent = 'Your final score: ' + gameState.score + '/' + gameState.maxScore;
            document.getElementById('game-complete').style.display = 'block';
        }
        
        // Reset game
        function resetGame() {
            gameState.currentLevel = 0;
            gameState.score = 0;
            gameState.collectedLetters = {
                level1: {},
                level2: {},
                level3: {}
            };
            
            document.getElementById('game-complete').style.display = 'none';
            document.getElementById('game-intro').classList.add('active');
            
            // Reset all questions
            document.querySelectorAll('.question-container').forEach(question => {
                question.classList.remove('active');
            });
            
            // Reset all feedback
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.style.display = 'none';
                feedback.innerHTML = '';
            });
            
            // Reset all fake sites
            document.querySelectorAll('.fake-site').forEach(site => {
                site.style.display = 'none';
            });
            
            // Reset all password sections
            document.querySelectorAll('.password-section').forEach(section => {
                section.style.display = 'none';
            });
            
            // Reset all level completion sections
            document.querySelectorAll('.level-complete').forEach(section => {
                section.style.display = 'none';
            });
            
            // Reset all password inputs
            document.querySelectorAll('.password-input').forEach(input => {
                input.value = '';
            });
            
            // Reset all collected letters displays
            for (let i = 1; i <= 3; i++) {
                document.getElementById('collected-letters-level' + i).textContent = '_ _ _';
            }
        }
        
        // Adjust brightness for hidden clues
        function adjustBrightness(value, questionId) {
            const fakeSite = document.getElementById('fake-site-' + questionId);
            const hiddenText = fakeSite.querySelector('.hidden-bright-text');
            
            if (value > 80) {
                hiddenText.style.color = 'rgba(255, 255, 255, 0.8)';
            } else {
                hiddenText.style.color = 'rgba(255, 255, 255, 0.05)';
            }
        }
    </script>
</body>
</html>
